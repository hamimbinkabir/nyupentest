def caesar_cipher(text, shift):
    result = ""
    for char in text:
        if char.isalnum():  # Check if the character is a letter or a number
            if char.isalpha():  # If it's a letter
                offset = ord('a') if char.islower() else ord('A')
                result += chr(((ord(char) - offset + shift) % 26) + offset)
            else:  # If it's a number
                offset = ord('0')
                result += chr(((ord(char) - offset + shift) % 10) + offset)
        else:
            result += char
    return result

while True:
    choice = input("Choose an option: (1) Encrypt, (2) Decrypt, (3) Quit: ")

    if choice == '1':
        plaintext = input("Enter the text to encrypt: ")
        while True:
            try:
                shift = int(input("Enter the shift value: "))
                break
            except ValueError:
                print("Invalid shift value. Please enter a valid integer.")
        encrypted_text = caesar_cipher(plaintext, shift)
        print(f"Encrypted text: {encrypted_text}")
    elif choice == '2':
        ciphertext = input("Enter the text to decrypt: ")
        while True:
            try:
                shift = int(input("Enter the shift value: "))
                break
            except ValueError:
                print("Invalid shift value. Please enter a valid integer.")
        decrypted_text = caesar_cipher(ciphertext, -shift)  # Decrypt by shifting in the opposite direction
        print(f"Decrypted text: {decrypted_text}")
    elif choice == '3':
        print("Goodbye!")
        break
    else:
        print("Invalid choice. Please enter 1, 2, or 3.")

import sqlite3
import time
from string import digits

def search_combinations(input_combination):
    conn = sqlite3.connect('combinations.db')
    cursor = conn.cursor()

    cursor.execute('''CREATE TABLE IF NOT EXISTS combinations (
                        id INTEGER PRIMARY KEY,
                        digit_combination TEXT
                    )''')

    for i in digits:
        for j in digits:
            for k in digits:
                for l in digits:
                    combination = i + j + k + l
                    cursor.execute("INSERT INTO combinations (digit_combination) VALUES (?)", (combination,))
                    conn.commit()

    start_time = time.time()

    cursor.execute("SELECT COUNT(*) FROM combinations WHERE digit_combination=?", (input_combination,))
    count = cursor.fetchone()[0]

    end_time = time.time()
    elapsed_time = end_time - start_time

    print(f"Match found {count} time(s)")
    print(f"Elapsed time: {elapsed_time:.4f} seconds")

    conn.close()

conn = sqlite3.connect('combinations.db')
cursor = conn.cursor()

cursor.execute('''PRAGMA table_info(combinations)''')
column_names = [column[1] for column in cursor.fetchall()]
if 'digit_combination' not in column_names:
    cursor.execute('''ALTER TABLE combinations ADD COLUMN digit_combination TEXT''')
    conn.commit()

conn.close()

while True:
    input_combination = input("Enter a 4-digit combination (or 'exit' to quit): ")
    if input_combination == 'exit':
        break
    search_combinations(input_combination)
